<!DOCTYPE html>

<style>
#close {
  display: none;
}

.complete #close {
  display: inherit;
}
</style>

<div id="main">
  Forwarding to VS Code...
  <div id="close">
    You may now close this tab after opening the link in VS Code.
  </div>
</div>

<script>
var url = window.location.href;
var origin = window.location.origin;
if (url.startsWith(origin)) {
  window.setTimeout(function() {
    var urlPath = url.substring(origin.length + 1);
    var vscodeUri = 'vscode://' + urlPath;
    window.location.assign(vscodeUri);
    document.getElementById('main').classList.add('complete');
  }, 3000);
}
</script>
